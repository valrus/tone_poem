#:kivy 1.1.0

<PCWidget>:
    Image:
        source: root.image_source


<BattleScreen>:
    BoxLayout:
        id: battle_root
        orientation: 'vertical'
        size_hint: 1.0, 1.0
        padding: 10
        spacing: 10

        BoxLayout:
            id: battle_area
            size_hint: 1.0, 0.6

            AnchorLayout:
                id: creature_area
                size_hint: 0.5, 1.0

            BoxLayout:
                id: player_area
                orientation: 'vertical'
                size_hint: 0.5, 1.0

        AnchorLayout:
            id: keyboard_area
            size_hint: 1.0, 0.1

            MidiKeyboard:
                id: kb
                anchor_x: 'left'
                anchor_y: 'center'
                size_hint: 1.0, 1.0

        BoxLayout:
            id: info_area
            size_hint: 1.0, 0.3


<MidiScreen>:
    BoxLayout:
        id: midi_root
        orientation: 'vertical'
        size_hint: 1.0, 1.0
        padding: 10
        spacing: 10

        AnchorLayout:
            id: midi_list_layout

        AnchorLayout:
            id: keyboard_area

            MidiKeyboard:
                id: kb
                anchor_x: 'center'
                anchor_y: 'center'
                size_hint: 0.9, 0.9


<WhiteKey>:
    canvas:
        Color:
            rgb: (0.7, 1, 0.7) if self.pressed else (0.8, 0.8, 0.8)

        Rectangle:
            pos: self.pos
            size: self.size

        Color:
            rgb: (0.7, 1, 0.7) if self.pressed else (1, 1, 1)

        Rectangle:
            pos: self.x + 1, self.y + 1
            size: self.width - 2, self.height - 2


<BlackKey>:
    canvas:
        Color:
            rgb: (0.3, 0.5, 0.3) if self.pressed else (0, 0, 0)

        Rectangle:
            pos: self.pos
            size: self.size

    canvas:
        Color:
            rgb: (0.3, 0.5, 0.3) if self.pressed else (0.2, 0.2, 0.2)

        Rectangle:
            pos: self.x + 1, self.y + 1
            size: self.width - 2, self.height - 2

<MidiKeyboard>:
    keybox: box

    RelativeLayout:
        id: box
